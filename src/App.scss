//mixins
@mixin mobile {
  @media (max-width: 576px) { @content; }
}
@mixin tablet {
  @media (min-width: 768px) { @content; }
}
@mixin desktop {
  @media (min-width: 900px) { @content; }
}
@mixin desktop-large {
  @media (min-width: 1200px) { @content; }
}

//svgs

.apple-books {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 240 240' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpath d='M240,75.0750762 C240,72.208641 240,69.3422058 239.983807,66.4757706 C239.969158,64.061215 239.941267,61.6472453 239.875993,59.2332756 C239.733843,53.9754881 239.42423,48.6715283 238.490002,43.4719837 C237.541476,38.1921647 235.99271,33.2782089 233.550614,28.4814417 C231.15176,23.7697535 228.018251,19.458499 224.27993,15.7200629 C220.541023,11.9811579 216.229063,8.84729816 211.516553,6.44844581 C206.722244,4.0078743 201.810864,2.45957742 196.53409,1.51105222 C191.33255,0.576120903 186.026713,0.266156836 180.766814,0.124006964 C178.352843,0.0588500558 175.938872,0.0309591493 173.524198,0.0161933752 C170.657762,0 167.791325,0 164.924889,0 L75.0751113,0 C72.2085576,0 69.3421211,0 66.4756845,0.0161933752 C64.0611278,0.0309591493 61.647157,0.0588500558 59.2331862,0.124006964 C53.9732868,0.266156836 48.6674495,0.576120903 43.4659102,1.51105222 C38.1890185,2.45957742 33.2777557,4.0078743 28.4834472,6.44844581 C23.7709365,8.84729816 19.4588597,11.9811579 15.7200702,15.7200629 C11.9817495,19.458499 8.84812262,23.7697535 6.44938635,28.4814417 C4.00729023,33.2782089 2.45852387,38.1921647 1.50999823,43.4719837 C0.575769607,48.6715283 0.266039772,53.9754881 0.124007022,59.2332756 C0.0587328947,61.6472453 0.030841975,64.061215 0.0161933828,66.4757706 C0,69.3422058 0,72.208641 0,75.0750762 L0,164.924929 C0,167.791364 0,170.657799 0.0161933828,173.524234 C0.030841975,175.93879 0.0587328947,178.352759 0.124007022,180.766729 C0.266039772,186.024517 0.575769607,191.328476 1.50999823,196.528138 C2.45852387,201.80784 4.00729023,206.721679 6.44938635,211.518563 C8.84812262,216.230368 11.9817495,220.541506 15.7200702,224.279825 C19.4588597,228.01873 23.7709365,231.152707 28.4834472,233.551559 C33.2777557,235.992248 38.1890185,237.54031 43.4659102,238.488835 C48.6674495,239.423884 53.9732868,239.733848 59.2331862,239.875998 C61.647157,239.941155 64.0611278,239.969046 66.4756845,239.983811 C69.3421211,240 72.2085576,240 75.0751113,240 L164.924889,240 C167.791325,240 170.657762,240 173.524198,239.983811 C175.938872,239.969046 178.352843,239.941155 180.766814,239.875998 C186.026713,239.733848 191.33255,239.423884 196.53409,238.488835 C201.810864,237.54031 206.722244,235.992248 211.516553,233.551559 C216.229063,231.152707 220.541023,228.01873 224.27993,224.279825 C228.018251,220.541506 231.15176,216.230368 233.550614,211.518563 C235.99271,206.721679 237.541476,201.80784 238.490002,196.528138 C239.42423,191.328476 239.733843,186.024517 239.875993,180.766729 C239.941267,178.352759 239.969158,175.93879 239.983807,173.524234 C240,170.657799 240,167.791364 240,164.924929 L240,75.0750762 Z' id='path-1'/%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='100%25' id='linearGradient-3'%3E%3Cstop stop-color='%23FFA800' offset='0%25'/%3E%3Cstop stop-color='%23F9671E' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse href='%23path-1'/%3E%3C/mask%3E%3Cg mask='url(%23mask-2)'%3E%3Cpath d='M239.997478,75.0744727 C239.997478,72.2080664 239.997478,69.3416602 239.981285,66.4752539 C239.966637,64.0607227 239.938746,61.6467773 239.873473,59.232832 C239.731324,53.9750977 239.421715,48.6711914 238.487496,43.4716992 C237.53898,38.1919336 235.99023,33.2780273 233.54816,28.4813086 C231.149332,23.769668 228.015855,19.458457 224.277574,15.7200586 C220.538707,11.9811914 216.226793,8.84736328 211.514332,6.44853516 C206.720074,4.00798828 201.808746,2.45970703 196.532027,1.51119141 C191.330543,0.576269531 186.024762,0.266308594 180.764918,0.124160156 C178.350973,0.0590039062 175.937027,0.0311132812 173.522379,0.0163476562 C170.655973,0.000154444557 167.789566,0.000154444557 164.92316,0.000154444557 L75.074332,0.000154444557 C72.2078086,0.000154444557 69.3414023,0.000154444557 66.4749961,0.0163476562 C64.0604648,0.0311132812 61.6465195,0.0590039062 59.2325742,0.124160156 C53.9727305,0.266308594 48.6669492,0.576269531 43.4654648,1.51119141 C38.1886289,2.45970703 33.277418,4.00798828 28.4831602,6.44853516 C23.7706992,8.84736328 19.458668,11.9811914 15.719918,15.7200586 C11.9816367,19.458457 8.84804297,23.769668 6.44933203,28.4813086 C4.00726172,33.2780273 2.45851172,38.1919336 1.50999609,43.4716992 C0.575777344,48.6711914 0.266050781,53.9750977 0.124019531,59.232832 C0.0587460937,61.6467773 0.0308554687,64.0607227 0.0162070312,66.4752539 C1.38195566e-05,69.3416602 1.38195566e-05,72.2080664 1.38195566e-05,75.0744727 L1.38195566e-05,164.923418 C1.38195566e-05,167.789824 1.38195566e-05,170.65623 0.0162070312,173.522637 C0.0308554687,175.937168 0.0587460937,178.351113 0.124019531,180.765059 C0.266050781,186.022793 0.575777344,191.326699 1.50999609,196.526309 C2.45851172,201.805957 4.00726172,206.719746 6.44933203,211.516582 C8.84804297,216.22834 11.9816367,220.539434 15.719918,224.277715 C19.458668,228.016582 23.7706992,231.150527 28.4831602,233.549355 C33.277418,235.99002 38.1886289,237.538066 43.4654648,238.486582 C48.6669492,239.421621 53.9727305,239.731582 59.2325742,239.87373 C61.6465195,239.938887 64.0604648,239.966777 66.4749961,239.981543 C69.3414023,239.997731 72.2078086,239.997731 75.074332,239.997731 L164.92316,239.997731 C167.789566,239.997731 170.655973,239.997731 173.522379,239.981543 C175.937027,239.966777 178.350973,239.938887 180.764918,239.87373 C186.024762,239.731582 191.330543,239.421621 196.532027,238.486582 C201.808746,237.538066 206.720074,235.99002 211.514332,233.549355 C216.226793,231.150527 220.538707,228.016582 224.277574,224.277715 C228.015855,220.539434 231.149332,216.22834 233.54816,211.516582 C235.99023,206.719746 237.53898,201.805957 238.487496,196.526309 C239.421715,191.326699 239.731324,186.022793 239.873473,180.765059 C239.938746,178.351113 239.966637,175.937168 239.981285,173.522637 C239.997478,170.65623 239.997478,167.789824 239.997478,164.923418 L239.997478,75.0744727 Z' fill='%23FFFFFF'/%3E%3Crect fill='url(%23linearGradient-3)' x='0' y='0' width='240' height='240'/%3E%3Cpath d='M195.58388,181.640625 C198.361762,181.640625 200,179.930321 200,177.364865 L200,78.3810177 C200,76.171875 199.928772,75.316723 199.145267,74.0339949 C191.80881,61.9193412 175.497657,55.078125 160.041237,55.078125 C146.009372,55.078125 132.903468,60.4940878 125.353327,70.3283361 C124.142455,71.9673775 124,72.4662162 124,74.1765203 L124,177.151077 C124,178.790118 125.139644,179.859058 126.564199,179.859058 C127.347704,179.859058 128.202437,179.574008 128.914714,178.932644 C135.752577,173.017842 146.009372,168.243243 158.118088,168.243243 C170.582943,168.243243 182.97657,172.16269 191.666354,180.072846 C192.805998,181.070524 194.01687,181.640625 195.58388,181.640625 Z M44.41612,181.640625 C41.6382381,181.640625 40,179.930321 40,177.364865 L40,78.3810177 C40,76.171875 40.0712277,75.316723 40.8547329,74.0339949 C48.1911903,61.9193412 64.502343,55.078125 79.9587629,55.078125 C93.9906279,55.078125 107.096532,60.4940878 114.646673,70.3283361 C115.857545,71.9673775 116,72.4662162 116,74.1765203 L116,177.151077 C116,178.790118 114.860356,179.859058 113.435801,179.859058 C112.652296,179.859058 111.797563,179.574008 111.085286,178.932644 C104.247423,173.017842 93.9906279,168.243243 81.8819119,168.243243 C69.4170572,168.243243 57.0234302,172.16269 48.3336457,180.072846 C47.1940019,181.070524 45.9831303,181.640625 44.41612,181.640625 Z' fill='%23FFFFFF' fill-rule='nonzero'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.barnes-and-noble {
  width: 126px;
  background-image: url("data:image/svg+xml,%3Csvg width='246' height='22' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%23575555' d='M152.918 2.42h3.524l8.139 10.695V2.42h3.772v17.37h-3.251L156.69 8.747V19.79h-3.772zM.143 2.41h8.064c1.985 0 3.549.546 4.541 1.539.794.794 1.192 1.762 1.192 2.952v.05c0 1.96-1.043 3.052-2.284 3.747 2.01.77 3.251 1.936 3.251 4.268v.05c0 3.176-2.58 4.764-6.5 4.764H.142V2.41zm10 5.136c0-1.14-.893-1.786-2.506-1.786H3.865v3.673h3.524c1.687 0 2.754-.546 2.754-1.836v-.05zM8.282 12.61H3.865v3.821h4.541c1.687 0 2.705-.595 2.705-1.886v-.05c0-1.165-.87-1.885-2.83-1.885zM24.939 2.286h3.523l7.445 17.494h-3.995l-1.588-3.896h-7.345L21.39 19.78h-3.896L24.94 2.286zm4.02 10.224L26.65 6.877l-2.307 5.633h4.615zM40.193 2.41h7.94c2.209 0 3.921.62 5.063 1.762.967.968 1.488 2.333 1.488 3.97v.05c0 2.804-1.514 4.566-3.722 5.385l4.243 6.203H50.74l-3.722-5.558h-3.003v5.558h-3.821V2.41zm7.693 8.437c1.86 0 2.927-.992 2.927-2.456v-.05c0-1.638-1.142-2.481-3.002-2.481h-3.797v4.987h3.872zM60.5 2.325h3.524l8.139 10.694V2.325h3.771v17.37h-3.25L64.272 8.652v11.043H60.5zM82.102 2.41h13.102v3.4h-9.306v3.524h8.19v3.4h-8.19v3.647h9.43v3.4H82.102zM99.972 17.25l2.258-2.706c1.563 1.29 3.2 2.11 5.186 2.11 1.564 0 2.506-.62 2.506-1.638v-.05c0-.967-.595-1.464-3.498-2.208-3.5-.894-5.758-1.861-5.758-5.31v-.05c0-3.152 2.531-5.236 6.08-5.236 2.53 0 4.69.794 6.452 2.208l-1.985 2.879c-1.539-1.067-3.053-1.712-4.517-1.712-1.464 0-2.233.67-2.233 1.513v.05c0 1.141.744 1.514 3.747 2.283 3.524.919 5.509 2.184 5.509 5.21v.05c0 3.45-2.63 5.385-6.378 5.385-2.63 0-5.285-.918-7.37-2.779M173.015 11.155v-.05c0-4.938 3.896-8.983 9.256-8.983s9.206 3.995 9.206 8.933v.05c0 4.938-3.896 8.983-9.256 8.983s-9.206-3.995-9.206-8.933m14.467 0v-.05c0-2.978-2.184-5.459-5.261-5.459s-5.21 2.432-5.21 5.41v.05c0 2.977 2.183 5.458 5.26 5.458s5.211-2.432 5.211-5.41M195.89 2.42h8.064c1.985 0 3.548.546 4.541 1.538.794.794 1.191 1.763 1.191 2.953v.05c0 1.96-1.042 3.052-2.283 3.747 2.01.769 3.25 1.936 3.25 4.268v.05c0 3.176-2.58 4.764-6.5 4.764h-8.264V2.42zm10 5.136c0-1.14-.894-1.786-2.506-1.786h-3.772v3.673h3.523c1.687 0 2.754-.547 2.754-1.837v-.05zm-1.862 5.063h-4.416v3.821h4.54c1.688 0 2.705-.595 2.705-1.886v-.05c0-1.166-.868-1.885-2.829-1.885zM216.207 2.42h3.822v13.896h8.66v3.474h-12.482zM232.59 2.42h13.101v3.4h-9.305v3.523h8.189v3.4h-8.189v3.647h9.43v3.4H232.59z'/%3E%3Cpath d='M131.133 1.935c-.384 0-.752.094-1.062.272-.748.429-1.18 1.382-1.076 2.372.165 1.577.996 2.78 2.202 4.076 1.469-1.181 2.167-2.45 2.192-3.98.017-1.018-.286-1.766-.924-2.29a2.102 2.102 0 00-1.332-.45zm-1.525 9.431c-1.166 1.084-1.831 2.556-1.831 4.15 0 1.295.371 2.335 1.104 3.09.73.752 1.77 1.133 3.086 1.133 1.212 0 2.433-.456 3.455-1.266l-5.814-7.107zm7.256 8.373c-1.646 1.22-3.543 1.926-5.55 1.926-1.938 0-3.595-.508-4.925-1.51-1.347-1.013-2.03-2.405-2.03-4.139 0-2.282 1.351-4.312 3.955-5.817-.935-1.183-1.58-2.028-1.855-2.734a6.341 6.341 0 01-.436-2.306c0-1.454.532-2.636 1.58-3.514 1.039-.87 2.344-1.31 3.88-1.31 1.356 0 2.514.375 3.444 1.116.871.694 1.313 1.766 1.313 3.185 0 2.056-1.319 3.735-4.03 5.13l5.567 6.47c.509-1.056.8-2.27.8-3.588 0-.59.014-1.016-.04-1.373-.025-.175-.043-.243-.11-.321-.051-.06-.249-.167-.39-.198l-1.863-.439-.038-.914.206.01a83.912 83.912 0 003.168.057c.47 0 .91-.004 1.32-.014.41-.01.798-.024 1.166-.044l.206-.015.054.912-1.868.565c-.106.028-.13.167-.12.231.057.514.085.896.085 1.322 0 2.019-.463 3.788-1.376 5.262.57.833 1.094 1.453 1.558 1.845.468.395 1.026.61 1.65.625.174.005.329-.006.772-.087l.185-.042.158.911-.12.066a5.386 5.386 0 01-2.615.658c-1.46 0-2.664-.667-3.701-1.926z' fill='%23C39F43'/%3E%3C/g%3E%3C/svg%3E");
}

.bookshop {
  width: 126px;
  background-image: url("https://rails-assets-us.bookshop.org/ds/images/logo.041f4577edde0efff6b67907832d4c3dfd52407b.svg");
}

//animations
@keyframes initAnimation {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(-25deg);
  }
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

//vars
$primary-color: #345673;
$secondary-color: #fcfcfc;
$shadow-color-dark: #01060f;
$shadow-color-light: #666;
$color-white: #fff;
$color-off-white: #f9f9f9;


h1 {
  font-size: 2.2rem;

  @include tablet {
    font-size: 3.2rem;
  }
}

h2 {
  font-size: 1rem;

  @include tablet {
    font-size: 2rem;
  }
}
.icon {
  display: inline-block;
  position: relative;
  min-width: 32px;
  height: 32px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  margin-right: 10px;
}

.review-section {
  padding: 20px;

  @include tablet {
    padding: 50px;
  }

  .review-form {
    text-align: center;

    input {
      margin-bottom: 30px;
    }

    button {
      display: block;
      margin: auto;
    }

    @include tablet {
      text-align: left;

      input {
        margin-right: 30px;
      }

      button {
        display: inline-block;
      }
    }
  }
  ul {
    padding-left: 0;

    li {
      list-style: none;
    }
  }
  .emoji-stars {
    display: inline-block;
    position: relative;
    width: 100px;
  }
}

.pdp-wrapper {
  background: $secondary-color;

  .book-wrapper {
    padding: 50px 20px 0px;
    display: block;
    position: relative;

    @include tablet {
      display: flex;
      padding: 50px 20px;

      > div {
        flex: 1;
      }
    }
  }
}

.cover-container {
  padding: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 600px;

  @include tablet {
    perspective: 800px;
  }

  .cover {
    &:hover, &:focus {
        transform: rotateY(0deg);
      }
  }

  .cover {
    width: 200px;
    height: 300px;
    max-width: 100%;
    position: relative;
    transform-style: preserve-3d;
    transform: rotateY(-25deg);
    transition: 0.5s ease;
    animation: 1s ease 0s 1 initAnimation;

    @include tablet {
      width: 300px;
      height: 450px;
    }

    &:before {
      position: absolute;
      content: ' ';
      left: 0;
      top: 1px;
      width: 28px;
      height: 298px;
      transform: translateX(184px) rotateY(90deg);
      background: linear-gradient(90deg,
              $color-white 0%,
              $color-off-white 5%,
              $color-white 10%,
              $color-off-white 15%,
              $color-white 35%,
              $color-off-white 55%,
              $color-white 60%,
              $color-off-white 65%,
              $color-white 95%,
              $color-off-white 100%
      );

      @include tablet {
        height: 448px;
        transform: translateX(284px) rotateY(90deg);
      }
    }

    &:after {
      position: absolute;
      top: 0;
      left: 0;
      content: ' ';
      width: 200px;
      height: 300px;
      max-width: 100%;
      transform: translateZ(-15px);
      background-color: $shadow-color-dark;
      border-radius: 0 2px 2px 0;
      box-shadow: -10px 0 50px 10px $shadow-color-light;

      @include tablet {
        width: 300px;
        height: 450px;
      }
    }

  > :first-child {
      position: absolute;
      top: 0;
      left: 0;
      width: 200px;
      height: 300px;
      max-width: 100%;
      transform: translateZ(15px);
      background-color: $shadow-color-dark;
      border-radius: 0 2px 2px 0;
      box-shadow: 5px 5px 20px $shadow-color-light;

      @include tablet {
          width: 300px;
          height: 450px;
        }
    }
  }
}

body {
  background-position: center;

  .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.45);
    backdrop-filter: blur(7.8px);
    -webkit-backdrop-filter: blur(7.8px);
  }
}

.header {
  padding: 1rem;

  .header-content {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
  }

  .book-header-info {
    display: flex;
    align-items: center;
    gap: 1rem;

    .header-book-image {
      width: 50px;
      height: auto;
    }

    .price-currency-container {
      display: flex;
      align-items: center;
      gap: 0.5rem;

      .current-price {
        font-weight: bold;
        font-size: 1.2rem;
      }

      .currency-dropdown {
        padding: 0.25rem;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
    }
  }
}

.retailers {
  a {
    margin-right: 25px;
    padding: 5px 0;
  }
}

footer {
  padding: 1rem;
  position: relative;
  text-align: center;
   p {
     position: relative;
   }
}

.info-container {
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 0.8s ease-out 0.3s forwards;
}

.footer, .header {
  background-position: center;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}